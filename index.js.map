{"version":3,"file":"index.js","sources":["../src/js/pets-list-api.js","../src/js/pets-list-render.js","../src/js/about-us.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://paw-hut.b.goit.study';\n\nexport async function fetchCategories() {\nconst res = await fetch(`${BASE_URL}/api/categories`);\nreturn res.json();\n}\n\nexport async function fetchAnimals({ page, limit }) {\nconst params = new URLSearchParams({ page, limit });\n\nconst res = await fetch(`${BASE_URL}/api/animals?${params}`);\n\nif (!res.ok) {\n    throw new Error('API error');\n}\n\nreturn res.json();\n}","\n\n    export function renderFilters(categories) {\n    return `\n        <li>\n        <button class=\"filter-btn active\" data-category=\"\">\n            Всі\n        </button>\n        </li>\n        ${categories\n        .map(({ name }) => `\n            <li>\n            <button class=\"filter-btn\" data-category=\"${name}\">\n                ${name}\n            </button>\n            </li>\n        `)\n        .join('')}\n    `;\n    }\n\n    export function renderAnimals(animals = []) {\n    return animals\n        .map(animal => {\n        const tagsMarkup = animal.categories\n            .map(c => `<span class=\"pet-tag\">${c.name}</span>`)\n            .join('');\n\n        return `\n            <li class=\"pet-card\" data-id=\"${animal._id}\">\n            <img src=\"${animal.image}\" alt=\"${animal.name}\">\n\n            <p class=\"pet-type\">${animal.species}</p>\n\n            <h3 class=\"pet-name\">${animal.name}</h3>\n\n            <div class=\"pet-tags\">\n                ${tagsMarkup}\n            </div>\n\n            <p class=\"pet-meta\">\n                ${animal.age} · ${animal.gender}\n            </p>\n\n            <p class=\"pet-desc\">\n                ${animal.shortDescription}\n            </p>\n\n            <button class=\"pet-btn\" data-animal-id=\"${animal._id}\">\n                Дізнатись більше\n            </button>\n            </li>\n        `;\n        })\n        .join('');\n    }\n","import Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\n\nexport function initAboutSlider() {\n  new Swiper('.about-swiper', {\n    modules: [Navigation, Pagination],\n    slidesPerView: 1,\n    spaceBetween: 20,\n\n    navigation: {\n      nextEl: '.about-btn-next',\n      prevEl: '.about-btn-prev',\n      disabledClass: 'is-disabled',\n    },\n\n    pagination: {\n      el: '.about-pagination',\n      clickable: true,\n    },\n  });\n}","/* libraries */\nimport Swiper from 'swiper';\nimport 'swiper/css';\nimport Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\nimport Swal from 'sweetalert2';\nimport 'sweetalert2/dist/sweetalert2.min.css';\nimport * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\nimport Raty from 'raty-js';\n\n// header\nconst mobileMenu = document.querySelector(\".mobile-menu\");\nconst burgerButton = document.querySelector(\".burger-button\");\nconst closeButton = document.querySelector(\".close-button\");\nconst toggleMenu = () => {\n  mobileMenu.classList.toggle(\"is-open\");\n  document.body.classList.toggle(\"no-scroll\");\n};\nburgerButton.addEventListener(\"click\", toggleMenu);\ncloseButton.addEventListener(\"click\", toggleMenu);\nmobileMenu.addEventListener(\"click\", (e) => {\n  if (e.target === mobileMenu) toggleMenu();\n});\nwindow.addEventListener(\"keydown\", (e) => {\n  if (e.key === \"Escape\" && mobileMenu.classList.contains(\"is-open\")) {\n    toggleMenu();\n  }\n});\n\n/* Pets List */\nimport { fetchCategories, fetchAnimals } from './js/pets-list-api.js';\nimport { renderFilters, renderAnimals } from './js/pets-list-render.js';\n// import { openPetModal } from \"./js/animal-details-modal\";\n\nconst filtersEl = document.querySelector('.js-filters');\nconst petsListEl = document.querySelector('.js-pets-list');\nconst loadMoreBtn = document.querySelector('.js-load-more');\n\nlet page = 1;\nlet category = '';\nconst limit = 9;\nlet allAnimals = [];\n\ninit();\n\nasync function init() {\n  const categories = await fetchCategories();\n  filtersEl.innerHTML = renderFilters(categories);\n  loadAnimals(true);\n}\n\nasync function loadAnimals(reset = false) {\n  try {\n    const data = await fetchAnimals({ page, limit });\n    if (!Array.isArray(data.animals)) {\n      petsListEl.innerHTML = '<p>Нічого не знайдено</p>';\n      return;\n    }\n    if (reset) {\n      allAnimals = data.animals;\n    } else {\n      allAnimals = [...allAnimals, ...data.animals];\n    }\n    let visibleAnimals = allAnimals;\n    if (category) {\n      visibleAnimals = allAnimals.filter(animal =>\n        animal.categories.some(c => c.name === category)\n      );\n    }\n    petsListEl.innerHTML = renderAnimals(visibleAnimals);\n    if (page * limit >= data.totalItems) {\n      loadMoreBtn.style.display = 'none';\n    } else {\n      loadMoreBtn.style.display = 'block';\n    }\n  } catch (error) {\n    console.error(error);\n    petsListEl.innerHTML = '<p>Помилка завантаження даних</p>';\n  }\n}\n\nfiltersEl.addEventListener('click', e => {\n  if (!e.target.classList.contains('filter-btn')) return;\n  document\n    .querySelectorAll('.filter-btn')\n    .forEach(btn => btn.classList.remove('active'));\n  e.target.classList.add('active');\n  category = e.target.dataset.category;\n  page = 1;\n  loadAnimals(true);\n});\n\nloadMoreBtn.addEventListener('click', () => {\n  page += 1;\n  loadAnimals();\n});\n\n// petsListEl.addEventListener('click', e => {\n// const btn = e.target.closest('.pet-btn');\n//  if (!btn) return;\n//  const animalId = btn.dataset.animalId;\n//  const animal = allAnimals.find(a => a._id === animalId);\n//  if (!animal) return;\n // openPetModal(animal);\n// });\n\n\n\n// about us\nimport { initAboutSlider } from './js/about-us.js';\n\ninitAboutSlider();"],"names":["BASE_URL","fetchCategories","fetchAnimals","page","limit","params","res","renderFilters","categories","name","renderAnimals","animals","animal","tagsMarkup","c","initAboutSlider","Swiper","Navigation","Pagination","mobileMenu","burgerButton","closeButton","toggleMenu","e","filtersEl","petsListEl","loadMoreBtn","category","allAnimals","init","loadAnimals","reset","data","visibleAnimals","error","btn"],"mappings":"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"}