{"version":3,"file":"index.js","sources":["../src/js/pets-list-api.js","../src/js/pets-list-render.js","../src/js/about-us.js","../src/js/FAQ.js","../src/js/api.js","../src/js/success-stories.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://paw-hut.b.goit.study';\n\nexport async function fetchCategories() {\nconst res = await fetch(`${BASE_URL}/api/categories`);\nreturn res.json();\n}\n\nexport async function fetchAnimals({ page, limit }) {\nconst params = new URLSearchParams({ page, limit });\n\nconst res = await fetch(`${BASE_URL}/api/animals?${params}`);\n\nif (!res.ok) {\n    throw new Error('API error');\n}\n\nreturn res.json();\n}","\n\n    export function renderFilters(categories) {\n    return `\n        <li>\n        <button class=\"filter-btn active\" data-category=\"\">\n            Всі\n        </button>\n        </li>\n        ${categories\n        .map(({ name }) => `\n            <li>\n            <button class=\"filter-btn\" data-category=\"${name}\">\n                ${name}\n            </button>\n            </li>\n        `)\n        .join('')}\n    `;\n    }\n\n    export function renderAnimals(animals = []) {\n    return animals\n        .map(animal => {\n        const tagsMarkup = animal.categories\n            .map(c => `<span class=\"pet-tag\">${c.name}</span>`)\n            .join('');\n\n        return `\n            <li class=\"pet-card\" data-id=\"${animal._id}\">\n            <img src=\"${animal.image}\" alt=\"${animal.name}\">\n\n            <p class=\"pet-type\">${animal.species}</p>\n\n            <h3 class=\"pet-name\">${animal.name}</h3>\n\n            <div class=\"pet-tags\">\n                ${tagsMarkup}\n            </div>\n\n            <p class=\"pet-meta\">\n                ${animal.age} · ${animal.gender}\n            </p>\n\n            <p class=\"pet-desc\">\n                ${animal.shortDescription}\n            </p>\n\n            <button class=\"pet-btn\" data-animal-id=\"${animal._id}\">\n                Дізнатись більше\n            </button>\n            </li>\n        `;\n        })\n        .join('');\n    }\n","import Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\n\nexport function initAboutSlider() {\n  new Swiper('.about-swiper', {\n    modules: [Navigation, Pagination],\n    slidesPerView: 1,\n    spaceBetween: 20,\n\n    navigation: {\n      nextEl: '.about-btn-next',\n      prevEl: '.about-btn-prev',\n      disabledClass: 'is-disabled',\n    },\n\n    pagination: {\n      el: '.about-pagination',\n      clickable: true,\n    },\n  });\n}","export function initFaq() {\n\n    new Accordion('.faq',\n        {\n            elementClass: 'faq-item',\n            triggerClass: 'faq-question',\n            panelClass: 'faq-answer',\n            openMultiple: false\n        });\n}","import axios from 'axios';\n\nconst BASE_URL = 'https://paw-hut.b.goit.study/api';\n\n// get category\nexport async function getCategories() {\n  try {\n    const response = await fetch(`${BASE_URL}/categories`);\n\n    if (!response.ok) {\n      throw new Error(`Помилка: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Помилка отримання категорій:', error);\n    throw error;\n  }\n}\n\n// list of animals\nexport async function getAnimals({ page = 1, limit = 9, category = '' } = {}) {\n  try {\n    const params = new URLSearchParams({\n      page: page,\n      limit: limit,\n    });\n\n    if (category && category !== 'all') {\n      params.append('category', category);\n    }\n\n    const response = await fetch(`${BASE_URL}/animals?${params}`);\n\n    if (!response.ok) {\n      throw new Error(`Помилка: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Помилка отримання тварин:', error);\n    throw error;\n  }\n}\n\n// feedbacks\nexport async function getFeedbacks() {\n  try {\n    const response = await fetch(`${BASE_URL}/feedbacks`);\n\n    if (!response.ok) {\n      throw new Error(`Помилка: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Помилка отримання відгуків:', error);\n    throw error;\n  }\n}\n\n// apply order form\nexport async function createOrder({ name, phone, comment = '', animalId }) {\n  try {\n    const response = await fetch(`${BASE_URL}/orders`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name: name,\n        phone: phone,\n        comment: comment,\n        animalId: animalId,\n      }),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || `Помилка: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Помилка відправки заявки:', error);\n    throw error;\n  }\n}\n","import Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nimport { getFeedbacks } from './api';\n\nimport Raty from 'raty-js';\n\nimport starOn from 'raty-js/src/images/star-on.png';\nimport starOff from 'raty-js/src/images/star-off.png';\nimport starHalf from 'raty-js/src/images/star-half.png';\n\nimport Swal from 'sweetalert2';\n\nexport async function fetchStories() {\n  try {\n    const data = await getFeedbacks();\n    renderStories(data.feedbacks);\n\n    new Swiper('.swiper-stories', {\n      modules: [Navigation, Pagination],\n      pagination: {\n        el: '.swiper-pagination',\n        dynamicBullets: true,\n        clickable: true,\n      },\n      navigation: {\n        nextEl: '.swiper-button-next',\n        prevEl: '.swiper-button-prev',\n      },\n      breakpoints: {\n        768: {\n          slidesPerView: 2,\n          spaceBetween: 32,\n        },\n      },\n    });\n  } catch (err) {\n    Swal.fire({\n      position: 'top-end',\n      icon: 'error',\n      title: `Помилка отримання відгуків: ${err}`,\n      showConfirmButton: false,\n      timer: 1500,\n    });\n  }\n}\n\nexport function renderStories(stories) {\n  const ul = document.querySelector('.swiper-wrapper');\n  const li = stories\n    .map(\n      story => `<li class=\"swiper-slide\" id=\"${story._id}\">       \n      <div class=\"story-card\">\n      <div class=\"stories-rate\" data-rate=\"${story.rate}\"></div>\n      <p class=\"stories-descr\">${story.description}</p>\n      <p class=\"stories-author\">${story.author}</p></div>\n      </li>`\n    )\n    .join('');\n\n  ul.insertAdjacentHTML('beforeend', li);\n\n  document.querySelectorAll('.stories-rate').forEach(el => {\n    new Raty(el, {\n      readOnly: true,\n      score: Number(el.dataset.rate),\n      half: true,\n      starOn,\n      starOff,\n      starHalf,\n    }).init();\n  });\n}\n","/* libraries */\nimport Swiper from 'swiper';\nimport 'swiper/css';\nimport Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\nimport Swal from 'sweetalert2';\nimport 'sweetalert2/dist/sweetalert2.min.css';\nimport * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\nimport Raty from 'raty-js';\n\n// header\nconst mobileMenu = document.querySelector(\".mobile-menu\");\nconst burgerButton = document.querySelector(\".burger-button\");\nconst closeButton = document.querySelector(\".close-button\");\nconst toggleMenu = () => {\n  mobileMenu.classList.toggle(\"is-open\");\n  document.body.classList.toggle(\"no-scroll\");\n};\nburgerButton.addEventListener(\"click\", toggleMenu);\ncloseButton.addEventListener(\"click\", toggleMenu);\nmobileMenu.addEventListener(\"click\", (e) => {\n  if (e.target === mobileMenu) toggleMenu();\n});\nwindow.addEventListener(\"keydown\", (e) => {\n  if (e.key === \"Escape\" && mobileMenu.classList.contains(\"is-open\")) {\n    toggleMenu();\n  }\n});\n\n/* Pets List */\nimport { fetchCategories, fetchAnimals } from './js/pets-list-api.js';\nimport { renderFilters, renderAnimals } from './js/pets-list-render.js';\n// import { openPetModal } from \"./js/animal-details-modal\";\n\nconst filtersEl = document.querySelector('.js-filters');\nconst petsListEl = document.querySelector('.js-pets-list');\nconst loadMoreBtn = document.querySelector('.js-load-more');\n\nlet page = 1;\nlet category = '';\nconst limit = 9;\nlet allAnimals = [];\n\ninit();\n\nasync function init() {\n  const categories = await fetchCategories();\n  filtersEl.innerHTML = renderFilters(categories);\n  loadAnimals(true);\n}\n\nasync function loadAnimals(reset = false) {\n  try {\n    const data = await fetchAnimals({ page, limit });\n    if (!Array.isArray(data.animals)) {\n      petsListEl.innerHTML = '<p>Нічого не знайдено</p>';\n      return;\n    }\n    if (reset) {\n      allAnimals = data.animals;\n    } else {\n      allAnimals = [...allAnimals, ...data.animals];\n    }\n    let visibleAnimals = allAnimals;\n    if (category) {\n      visibleAnimals = allAnimals.filter(animal =>\n        animal.categories.some(c => c.name === category)\n      );\n    }\n    petsListEl.innerHTML = renderAnimals(visibleAnimals);\n    if (page * limit >= data.totalItems) {\n      loadMoreBtn.style.display = 'none';\n    } else {\n      loadMoreBtn.style.display = 'block';\n    }\n  } catch (error) {\n    console.error(error);\n    petsListEl.innerHTML = '<p>Помилка завантаження даних</p>';\n  }\n}\n\nfiltersEl.addEventListener('click', e => {\n  if (!e.target.classList.contains('filter-btn')) return;\n  document\n    .querySelectorAll('.filter-btn')\n    .forEach(btn => btn.classList.remove('active'));\n  e.target.classList.add('active');\n  category = e.target.dataset.category;\n  page = 1;\n  loadAnimals(true);\n});\n\nloadMoreBtn.addEventListener('click', () => {\n  page += 1;\n  loadAnimals();\n});\n\n// petsListEl.addEventListener('click', e => {\n// const btn = e.target.closest('.pet-btn');\n//  if (!btn) return;\n//  const animalId = btn.dataset.animalId;\n//  const animal = allAnimals.find(a => a._id === animalId);\n//  if (!animal) return;\n // openPetModal(animal);\n// });\n\n\n\n// about us\nimport { initAboutSlider } from './js/about-us.js';\n\ninitAboutSlider();\n\n// FAQ\nimport { initFaq } from './js/FAQ.js';\n\ninitFaq();\n\n// Success stories //\nimport { fetchStories } from './js/success-stories.js';\nfetchStories();\n"],"names":["BASE_URL","fetchCategories","fetchAnimals","page","limit","params","res","renderFilters","categories","name","renderAnimals","animals","animal","tagsMarkup","c","initAboutSlider","Swiper","Navigation","Pagination","initFaq","getFeedbacks","response","error","fetchStories","data","renderStories","err","Swal","stories","ul","li","story","el","Raty","starOn","starOff","starHalf","mobileMenu","burgerButton","closeButton","toggleMenu","filtersEl","petsListEl","loadMoreBtn","category","allAnimals","init","loadAnimals","reset","visibleAnimals","btn"],"mappings":"uyBAAA,MAAMA,EAAW,+BAEV,eAAeC,GAAkB,CAExC,OADY,MAAM,MAAM,GAAGD,CAAQ,iBAAiB,GACzC,KAAI,CACf,CAEO,eAAeE,EAAa,CAAE,KAAAC,EAAM,MAAAC,GAAS,CACpD,MAAMC,EAAS,IAAI,gBAAgB,CAAE,KAAAF,EAAM,MAAAC,CAAO,CAAA,EAE5CE,EAAM,MAAM,MAAM,GAAGN,CAAQ,gBAAgBK,CAAM,EAAE,EAE3D,GAAI,CAACC,EAAI,GACL,MAAM,IAAI,MAAM,WAAW,EAG/B,OAAOA,EAAI,KAAI,CACf,CCfW,SAASC,EAAcC,EAAY,CAC1C,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAMDA,EACD,IAAI,CAAC,CAAE,KAAAC,CAAI,IAAO;AAAA;AAAA,wDAE6BA,CAAI;AAAA,kBAC1CA,CAAI;AAAA;AAAA;AAAA,SAGb,EACA,KAAK,EAAE,CAAC;AAAA,KAEZ,CAEM,SAASC,EAAcC,EAAU,GAAI,CAC5C,OAAOA,EACF,IAAIC,GAAU,CACf,MAAMC,EAAaD,EAAO,WACrB,IAAIE,GAAK,yBAAyBA,EAAE,IAAI,SAAS,EACjD,KAAK,EAAE,EAEZ,MAAO;AAAA,4CAC6BF,EAAO,GAAG;AAAA,wBAC9BA,EAAO,KAAK,UAAUA,EAAO,IAAI;AAAA;AAAA,kCAEvBA,EAAO,OAAO;AAAA;AAAA,mCAEbA,EAAO,IAAI;AAAA;AAAA;AAAA,kBAG5BC,CAAU;AAAA;AAAA;AAAA;AAAA,kBAIVD,EAAO,GAAG,MAAMA,EAAO,MAAM;AAAA;AAAA;AAAA;AAAA,kBAI7BA,EAAO,gBAAgB;AAAA;AAAA;AAAA,sDAGaA,EAAO,GAAG;AAAA;AAAA;AAAA;AAAA,SAKhE,CAAS,EACA,KAAK,EAAE,CAChB,CCpDO,SAASG,GAAkB,CAChC,IAAIC,EAAO,gBAAiB,CAC1B,QAAS,CAACC,EAAYC,CAAU,EAChC,cAAe,EACf,aAAc,GAEd,WAAY,CACV,OAAQ,kBACR,OAAQ,kBACR,cAAe,aAChB,EAED,WAAY,CACV,GAAI,oBACJ,UAAW,EACZ,CACL,CAAG,CACH,CCpBO,SAASC,GAAU,CAEtB,IAAI,UAAU,OACV,CACI,aAAc,WACd,aAAc,eACd,WAAY,aACZ,aAAc,EAC1B,CAAS,CACT,CCPA,MAAMnB,EAAW,mCA8CV,eAAeoB,GAAe,CACnC,GAAI,CACF,MAAMC,EAAW,MAAM,MAAM,GAAGrB,CAAQ,YAAY,EAEpD,GAAI,CAACqB,EAAS,GACZ,MAAM,IAAI,MAAM,YAAYA,EAAS,MAAM,EAAE,EAI/C,OADa,MAAMA,EAAS,MAE7B,OAAQC,EAAO,CACd,cAAQ,MAAM,8BAA+BA,CAAK,EAC5CA,CACP,CACH,CC9CO,eAAeC,GAAe,CACnC,GAAI,CACF,MAAMC,EAAO,MAAMJ,IACnBK,EAAcD,EAAK,SAAS,EAE5B,IAAIR,EAAO,kBAAmB,CAC5B,QAAS,CAACC,EAAYC,CAAU,EAChC,WAAY,CACV,GAAI,qBACJ,eAAgB,GAChB,UAAW,EACZ,EACD,WAAY,CACV,OAAQ,sBACR,OAAQ,qBACT,EACD,YAAa,CACX,IAAK,CACH,cAAe,EACf,aAAc,EACf,CACF,CACP,CAAK,CACF,OAAQQ,EAAK,CACZC,EAAK,KAAK,CACR,SAAU,UACV,KAAM,QACN,MAAO,+BAA+BD,CAAG,GACzC,kBAAmB,GACnB,MAAO,IACb,CAAK,CACF,CACH,CAEO,SAASD,EAAcG,EAAS,CACrC,MAAMC,EAAK,SAAS,cAAc,iBAAiB,EAC7CC,EAAKF,EACR,IACCG,GAAS,gCAAgCA,EAAM,GAAG;AAAA;AAAA,6CAEXA,EAAM,IAAI;AAAA,iCACtBA,EAAM,WAAW;AAAA,kCAChBA,EAAM,MAAM;AAAA,YAEzC,EACA,KAAK,EAAE,EAEVF,EAAG,mBAAmB,YAAaC,CAAE,EAErC,SAAS,iBAAiB,eAAe,EAAE,QAAQE,GAAM,CACvD,IAAIC,EAAKD,EAAI,CACX,SAAU,GACV,MAAO,OAAOA,EAAG,QAAQ,IAAI,EAC7B,KAAM,GACN,OAAAE,EACA,QAAAC,EACA,SAAAC,CACN,CAAK,EAAE,KAAI,CACX,CAAG,CACH,CC/DA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAa,IAAM,CACvBH,EAAW,UAAU,OAAO,SAAS,EACrC,SAAS,KAAK,UAAU,OAAO,WAAW,CAC5C,EACAC,EAAa,iBAAiB,QAASE,CAAU,EACjDD,EAAY,iBAAiB,QAASC,CAAU,EAChDH,EAAW,iBAAiB,QAAU,GAAM,CACtC,EAAE,SAAWA,GAAYG,EAAU,CACzC,CAAC,EACD,OAAO,iBAAiB,UAAY,GAAM,CACpC,EAAE,MAAQ,UAAYH,EAAW,UAAU,SAAS,SAAS,GAC/DG,GAEJ,CAAC,EAOD,MAAMC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,eAAe,EACnDC,EAAc,SAAS,cAAc,eAAe,EAE1D,IAAIxC,EAAO,EACPyC,EAAW,GACf,MAAMxC,EAAQ,EACd,IAAIyC,EAAa,CAAA,EAEjBC,IAEA,eAAeA,GAAO,CACpB,MAAMtC,EAAa,MAAMP,IACzBwC,EAAU,UAAYlC,EAAcC,CAAU,EAC9CuC,EAAY,EAAI,CAClB,CAEA,eAAeA,EAAYC,EAAQ,GAAO,CACxC,GAAI,CACF,MAAMxB,EAAO,MAAMtB,EAAa,CAAE,KAAAC,EAAM,MAAAC,CAAO,CAAA,EAC/C,GAAI,CAAC,MAAM,QAAQoB,EAAK,OAAO,EAAG,CAChCkB,EAAW,UAAY,4BACvB,MACD,CACGM,EACFH,EAAarB,EAAK,QAElBqB,EAAa,CAAC,GAAGA,EAAY,GAAGrB,EAAK,OAAO,EAE9C,IAAIyB,EAAiBJ,EACjBD,IACFK,EAAiBJ,EAAW,OAAOjC,GACjCA,EAAO,WAAW,KAAKE,GAAKA,EAAE,OAAS8B,CAAQ,CACvD,GAEIF,EAAW,UAAYhC,EAAcuC,CAAc,EAC/C9C,EAAOC,GAASoB,EAAK,WACvBmB,EAAY,MAAM,QAAU,OAE5BA,EAAY,MAAM,QAAU,OAE/B,OAAQrB,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBoB,EAAW,UAAY,mCACxB,CACH,CAEAD,EAAU,iBAAiB,QAAS,GAAK,CAClC,EAAE,OAAO,UAAU,SAAS,YAAY,IAC7C,SACG,iBAAiB,aAAa,EAC9B,QAAQS,GAAOA,EAAI,UAAU,OAAO,QAAQ,CAAC,EAChD,EAAE,OAAO,UAAU,IAAI,QAAQ,EAC/BN,EAAW,EAAE,OAAO,QAAQ,SAC5BzC,EAAO,EACP4C,EAAY,EAAI,EAClB,CAAC,EAEDJ,EAAY,iBAAiB,QAAS,IAAM,CAC1CxC,GAAQ,EACR4C,GACF,CAAC,EAgBDhC,IAKAI,IAIAI,EAAc"}